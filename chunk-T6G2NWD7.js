import{b as V,c as R,d as D,e as H,f as W,g as Z}from"./chunk-AM3DMWVG.js";import{a as q}from"./chunk-4P42LEMX.js";import{b as j,e as A,h as F}from"./chunk-OJQ2WOAU.js";import{a as $}from"./chunk-S4FRQJZM.js";import{$a as u,Da as x,Ia as w,Nb as L,Ob as N,Ta as g,Ua as l,Va as S,Wa as M,Xa as O,Y as P,Ya as f,Z as m,Za as r,_a as c,cb as b,db as h,eb as d,ib as y,jb as a,kb as C,lb as _,mb as k,nb as T,ob as E,qa as v,rb as z,sb as I,ta as i,tb as B}from"./chunk-XLGWGPZZ.js";var J=n=>["/product",n],K=(n,e)=>e.id;function Q(n,e){if(n&1&&(r(0,"p",2),a(1),c()),n&2){let t=d();i(),_('Search results for "',t.searchTerm,'"')}}function X(n,e){if(n&1){let t=b();r(0,"div",3)(1,"div",5)(2,"span",6),a(3),c(),r(4,"span",7),a(5,"Products"),c()(),r(6,"div",8)(7,"label",9),a(8,"Sort by"),c(),r(9,"select",10),E("ngModelChange",function(s){P(t);let p=d();return T(p.sortBy,s)||(p.sortBy=s),m(s)}),h("change",function(s){P(t);let p=d();return m(p.onSortChange(s))}),r(10,"option",11),a(11,"Default"),c(),r(12,"option",12),a(13,"Price: Low to High"),c(),r(14,"option",13),a(15,"Price: High to Low"),c(),r(16,"option",14),a(17,"Name: A - Z"),c(),r(18,"option",15),a(19,"Name: Z - A"),c()()()()}if(n&2){let t=d();i(3),C(t.getTotalProductCount()),i(6),k("ngModel",t.sortBy)}}function tt(n,e){if(n&1){let t=b();r(0,"div",18)(1,"div",19),u(2,"img",20),r(3,"h3"),a(4),c(),r(5,"p",21),a(6),c(),r(7,"p",22),a(8),u(9,"img",23),c()(),r(10,"button",24),h("click",function(){let s=P(t).$implicit,p=d(3);return m(p.add(s))}),u(11,"i",25),c()()}if(n&2){let t=e.$implicit;i(),f("routerLink",z(6,J,t.id)),i(),f("src",t.image,v)("alt",t.name),i(2),C(t.name),i(2),C(t.desc),i(2),_("",t.price," ")}}function et(n,e){if(n&1&&(r(0,"div",16)(1,"h2",17),a(2),c(),r(3,"div")(4,"div"),M(5,tt,12,8,"div",18,K),c()()()),n&2){let t=e.$implicit,o=d(2);i(2),C(t),i(),y("products-scroll-container",!(o.selectedCategory||o.searchTerm))("products-grid-container",o.selectedCategory||o.searchTerm),i(),y("products-scroll",!(o.selectedCategory||o.searchTerm))("products-grid",o.selectedCategory||o.searchTerm),i(),O(o.groupedProducts[t])}}function nt(n,e){if(n&1&&M(0,et,7,9,"div",16,S),n&2){let t=d();O(t.getSubCategories())}}function ot(n,e){if(n&1&&(r(0,"p"),a(1),c()),n&2){let t=d(2);i(),_('No products found for "',t.searchTerm,'"')}}function rt(n,e){n&1&&(r(0,"p"),a(1,"No products found in this category"),c())}function ct(n,e){if(n&1&&(r(0,"div",4),u(1,"i",26),g(2,ot,2,1,"p")(3,rt,2,0,"p"),c()),n&2){let t=d();i(2),l(t.searchTerm?2:3)}}var U=class n{constructor(e,t,o){this.cart=e;this.route=t;this.productService=o}displayedProducts=[];selectedCategory=null;selectedSubCategory=null;searchTerm=null;groupedProducts={};sortBy="default";ngOnInit(){window.scrollTo({top:0,behavior:"smooth"}),this.route.queryParams.subscribe(e=>{this.selectedCategory=e.category||null,this.searchTerm=e.search?e.search.trim():null,this.filterProducts()})}filterProducts(){let e=this.productService.filterProducts(this.selectedCategory);if(this.searchTerm){let t=this.searchTerm.toLowerCase();e=e.filter(o=>{let s=o.name?.toLowerCase().includes(t),p=o.desc?.toLowerCase().includes(t),Y=o.description?.toLowerCase().includes(t),G=(o.features||[]).join(" ").toLowerCase().includes(t);return!!(s||p||Y||G)})}this.displayedProducts=e,this.applySorting(),this.groupBySubCategory()}onSortChange(e){let t=e.target;this.sortBy=t.value,this.applySorting(),this.groupBySubCategory()}applySorting(){switch(this.sortBy){case"price-asc":this.displayedProducts.sort((e,t)=>e.price-t.price);break;case"price-desc":this.displayedProducts.sort((e,t)=>t.price-e.price);break;case"name-asc":this.displayedProducts.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-desc":this.displayedProducts.sort((e,t)=>t.name.localeCompare(e.name));break;default:break}}groupBySubCategory(){this.groupedProducts=this.productService.groupBySubCategory(this.displayedProducts)}getSubCategories(){return Object.keys(this.groupedProducts)}getTotalProductCount(){return this.displayedProducts.length}add(e){console.log("ProductsComponent: add clicked",e),this.cart.addToCart(e)}static \u0275fac=function(t){return new(t||n)(x($),x(j),x(q))};static \u0275cmp=w({type:n,selectors:[["app-products"]],decls:8,vars:6,consts:[[1,"products-page"],[1,"title"],[1,"search-info"],[1,"filter-bar"],[1,"no-products"],[1,"product-count"],[1,"count-number"],[1,"count-text"],[1,"sort-container"],["for","sort-select"],["id","sort-select",3,"ngModelChange","change","ngModel"],["value","default"],["value","price-asc"],["value","price-desc"],["value","name-asc"],["value","name-desc"],[1,"subcategory-section"],[1,"subcategory-title"],[1,"products-card"],[1,"product-content",3,"routerLink"],[1,"product-image",3,"src","alt"],[1,"desc"],[1,"price"],["src","/riyals.png","alt","SAR",1,"currency-icon"],["title","Add to Cart",1,"add-btn",3,"click"],[1,"bi","bi-plus"],[1,"bi","bi-inbox"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"h1",1),a(2),I(3,"titlecase"),c(),g(4,Q,2,1,"p",2),g(5,X,20,2,"div",3),g(6,nt,2,0)(7,ct,4,1,"div",4),c()),t&2&&(i(2),_(" ",o.selectedCategory?B(3,4,o.selectedCategory):"All Products"," "),i(2),l(o.searchTerm?4:-1),i(),l(o.selectedCategory?5:-1),i(),l(o.displayedProducts.length>0?6:7))},dependencies:[N,F,A,Z,H,W,D,V,R,L],styles:['.products-page[_ngcontent-%COMP%]{padding:20px}.products-page[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin-bottom:20px;margin-top:120px;color:#1e2a5a;text-align:center}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;padding:12px 20px;background:#fff;border-radius:12px;box-shadow:0 1px 3px #00000014;gap:15px;flex-wrap:wrap}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .product-count[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:6px;font-size:13px;color:#64748b}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .product-count[_ngcontent-%COMP%]   .count-number[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#009ffd}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .product-count[_ngcontent-%COMP%]   .count-text[_ngcontent-%COMP%]{font-weight:500}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .sort-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .sort-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#64748b;margin:0}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .sort-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border:1.5px solid #e2e8f0;border-radius:8px;font-size:13px;font-weight:500;color:#1e2a5a;background:#fff;cursor:pointer;transition:all .2s;outline:none;min-width:160px}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .sort-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#009ffd}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .sort-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#009ffd;box-shadow:0 0 0 2px #009ffd1a}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]{margin-bottom:50px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .subcategory-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1e2a5a;margin-bottom:20px;padding-left:15px;position:relative;display:flex;align-items:center;gap:12px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .subcategory-title[_ngcontent-%COMP%]:before{content:"";width:5px;height:30px;background:linear-gradient(135deg,#009ffd,#00d4ff);border-radius:3px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-scroll-container[_ngcontent-%COMP%]{position:relative}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-scroll-container[_ngcontent-%COMP%]   .products-scroll[_ngcontent-%COMP%]{display:flex;gap:20px;overflow-x:auto;overflow-y:hidden;padding:10px 15px 20px;scroll-behavior:smooth;scroll-snap-type:x mandatory}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-scroll-container[_ngcontent-%COMP%]   .products-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-scroll-container[_ngcontent-%COMP%]   .products-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-scroll-container[_ngcontent-%COMP%]   .products-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(90deg,#009ffd,#00d4ff);border-radius:10px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-scroll-container[_ngcontent-%COMP%]   .products-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(90deg,#0080d4,#009ffd)}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-grid-container[_ngcontent-%COMP%]{position:relative}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-grid-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:25px;padding:10px 15px 20px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]{background:#fff;padding:15px;border-radius:14px;box-shadow:0 3px 10px #00000014;transition:all .3s;position:relative;overflow:hidden;min-width:250px;max-width:250px;flex-shrink:0;scroll-snap-align:start}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 8px 20px #009ffd33}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none;color:inherit;display:block}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:contain;border-radius:12px;margin-bottom:15px;transition:.3s;background:#fff;padding:10px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:17px;margin-bottom:8px;font-weight:600;color:#1e2a5a;line-height:1.3;height:44px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:13px;color:#64748b;margin-bottom:10px;line-height:1.4;height:36px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#009ffd;margin-bottom:12px;display:flex;align-items:center;gap:6px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .currency-icon[_ngcontent-%COMP%]{width:18px;height:18px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{position:absolute;bottom:15px;right:15px;width:42px;height:42px;border-radius:12px;border:none;background:linear-gradient(135deg,#009ffd,#00d4ff);color:#fff;font-size:22px;font-weight:700;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;z-index:2;box-shadow:0 4px 12px #009ffd4d}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#1e2a5a,#2a3a7a);transform:scale(1.15) rotate(90deg);box-shadow:0 6px 16px #1e2a5a66}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:active{transform:scale(.95) rotate(90deg)}.products-page[_ngcontent-%COMP%]   .no-products[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;color:#64748b}.products-page[_ngcontent-%COMP%]   .no-products[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:80px;margin-bottom:20px;opacity:.4;color:#cbd5e1}.products-page[_ngcontent-%COMP%]   .no-products[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin:0;font-weight:500}@media (max-width: 768px){.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]{padding:12px 15px;gap:10px}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .product-count[_ngcontent-%COMP%]{justify-content:center}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .sort-container[_ngcontent-%COMP%]{gap:8px}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .sort-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{min-width:140px;font-size:12px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .subcategory-title[_ngcontent-%COMP%]{font-size:20px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-grid-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]{min-width:unset;max-width:unset}}@media (max-width: 480px){.products-page[_ngcontent-%COMP%]{padding:15px 10px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-grid-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:10px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]{padding:12px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{height:140px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;height:38px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;height:32px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:16px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{width:36px;height:36px;font-size:18px}.products-page[_ngcontent-%COMP%]   .products-scroll[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;padding:10px 0 20px;overflow-x:visible;overflow-y:visible}.products-page[_ngcontent-%COMP%]   .products-scroll[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]{min-width:unset;max-width:unset;width:100%}}@media (max-width: 360px){.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-grid-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%], .products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-scroll[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important;gap:8px!important}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]{min-width:unset!important;max-width:unset!important;width:100%!important}}']})};export{U as Products};
