import{b as L,c as R,d as D,e as H,f as W,g as Z}from"./chunk-AM3DMWVG.js";import{a as q}from"./chunk-YIXSIOEZ.js";import{b as V,e as j,h as F}from"./chunk-OJQ2WOAU.js";import{a as $}from"./chunk-S4FRQJZM.js";import{$a as g,Da as _,Ia as w,Nb as A,Ob as N,Ta as P,Ua as M,Va as S,Wa as x,Xa as m,Y as u,Ya as O,Z as C,Za as n,_a as r,cb as f,db as b,eb as p,ib as h,jb as i,kb as l,lb as y,mb as k,nb as z,ob as E,qa as v,rb as T,sb as I,ta as c,tb as B}from"./chunk-XLGWGPZZ.js";var Y=o=>["/product",o],G=(o,e)=>e.id;function J(o,e){if(o&1){let t=f();n(0,"div",2)(1,"div",4)(2,"span",5),i(3),r(),n(4,"span",6),i(5,"Products"),r()(),n(6,"div",7)(7,"label",8),i(8,"Sort by"),r(),n(9,"select",9),E("ngModelChange",function(d){u(t);let s=p();return z(s.sortBy,d)||(s.sortBy=d),C(d)}),b("change",function(d){u(t);let s=p();return C(s.onSortChange(d))}),n(10,"option",10),i(11,"Default"),r(),n(12,"option",11),i(13,"Price: Low to High"),r(),n(14,"option",12),i(15,"Price: High to Low"),r(),n(16,"option",13),i(17,"Name: A - Z"),r(),n(18,"option",14),i(19,"Name: Z - A"),r()()()()}if(o&2){let t=p();c(3),l(t.getTotalProductCount()),c(6),k("ngModel",t.sortBy)}}function K(o,e){if(o&1){let t=f();n(0,"div",17)(1,"div",18),g(2,"img",19),n(3,"h3"),i(4),r(),n(5,"p",20),i(6),r(),n(7,"p",21),i(8),g(9,"img",22),r()(),n(10,"button",23),b("click",function(){let d=u(t).$implicit,s=p(3);return C(s.add(d))}),g(11,"i",24),r()()}if(o&2){let t=e.$implicit;c(),O("routerLink",T(6,Y,t.id)),c(),O("src",t.image,v)("alt",t.name),c(2),l(t.name),c(2),l(t.desc),c(2),y("",t.price," ")}}function Q(o,e){if(o&1&&(n(0,"div",15)(1,"h2",16),i(2),r(),n(3,"div")(4,"div"),x(5,K,12,8,"div",17,G),r()()()),o&2){let t=e.$implicit,a=p(2);c(2),l(t),c(),h("products-scroll-container",!a.selectedCategory)("products-grid-container",a.selectedCategory),c(),h("products-scroll",!a.selectedCategory)("products-grid",a.selectedCategory),c(),m(a.groupedProducts[t])}}function X(o,e){if(o&1&&x(0,Q,7,9,"div",15,S),o&2){let t=p();m(t.getSubCategories())}}function tt(o,e){o&1&&(n(0,"div",3),g(1,"i",25),n(2,"p"),i(3,"No products found in this category"),r()())}var U=class o{constructor(e,t,a){this.cart=e;this.route=t;this.productService=a}displayedProducts=[];selectedCategory=null;selectedSubCategory=null;groupedProducts={};sortBy="default";ngOnInit(){window.scrollTo({top:0,behavior:"smooth"}),this.route.queryParams.subscribe(e=>{this.selectedCategory=e.category||null,this.filterProducts()})}filterProducts(){this.displayedProducts=this.productService.filterProducts(this.selectedCategory),this.applySorting(),this.groupBySubCategory()}onSortChange(e){let t=e.target;this.sortBy=t.value,this.applySorting(),this.groupBySubCategory()}applySorting(){switch(this.sortBy){case"price-asc":this.displayedProducts.sort((e,t)=>e.price-t.price);break;case"price-desc":this.displayedProducts.sort((e,t)=>t.price-e.price);break;case"name-asc":this.displayedProducts.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-desc":this.displayedProducts.sort((e,t)=>t.name.localeCompare(e.name));break;default:break}}groupBySubCategory(){this.groupedProducts=this.productService.groupBySubCategory(this.displayedProducts)}getSubCategories(){return Object.keys(this.groupedProducts)}getTotalProductCount(){return this.displayedProducts.length}add(e){console.log("ProductsComponent: add clicked",e),this.cart.addToCart(e)}static \u0275fac=function(t){return new(t||o)(_($),_(V),_(q))};static \u0275cmp=w({type:o,selectors:[["app-products"]],decls:7,vars:5,consts:[[1,"products-page"],[1,"title"],[1,"filter-bar"],[1,"no-products"],[1,"product-count"],[1,"count-number"],[1,"count-text"],[1,"sort-container"],["for","sort-select"],["id","sort-select",3,"ngModelChange","change","ngModel"],["value","default"],["value","price-asc"],["value","price-desc"],["value","name-asc"],["value","name-desc"],[1,"subcategory-section"],[1,"subcategory-title"],[1,"products-card"],[1,"product-content",3,"routerLink"],[1,"product-image",3,"src","alt"],[1,"desc"],[1,"price"],["src","/riyals.png","alt","SAR",1,"currency-icon"],["title","Add to Cart",1,"add-btn",3,"click"],[1,"bi","bi-plus"],[1,"bi","bi-inbox"]],template:function(t,a){t&1&&(n(0,"div",0)(1,"h1",1),i(2),I(3,"titlecase"),r(),P(4,J,20,2,"div",2),P(5,X,2,0)(6,tt,4,0,"div",3),r()),t&2&&(c(2),y(" ",a.selectedCategory?B(3,3,a.selectedCategory):"All Products"," "),c(2),M(a.selectedCategory?4:-1),c(),M(a.displayedProducts.length>0?5:6))},dependencies:[N,F,j,Z,H,W,D,L,R,A],styles:['.products-page[_ngcontent-%COMP%]{padding:20px}.products-page[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin-bottom:20px;margin-top:120px;color:#1e2a5a;text-align:center}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;padding:12px 20px;background:#fff;border-radius:12px;box-shadow:0 1px 3px #00000014;gap:15px;flex-wrap:wrap}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .product-count[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:6px;font-size:13px;color:#64748b}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .product-count[_ngcontent-%COMP%]   .count-number[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#009ffd}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .product-count[_ngcontent-%COMP%]   .count-text[_ngcontent-%COMP%]{font-weight:500}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .sort-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .sort-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#64748b;margin:0}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .sort-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border:1.5px solid #e2e8f0;border-radius:8px;font-size:13px;font-weight:500;color:#1e2a5a;background:#fff;cursor:pointer;transition:all .2s;outline:none;min-width:160px}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .sort-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#009ffd}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .sort-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#009ffd;box-shadow:0 0 0 2px #009ffd1a}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]{margin-bottom:50px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .subcategory-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1e2a5a;margin-bottom:20px;padding-left:15px;position:relative;display:flex;align-items:center;gap:12px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .subcategory-title[_ngcontent-%COMP%]:before{content:"";width:5px;height:30px;background:linear-gradient(135deg,#009ffd,#00d4ff);border-radius:3px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-scroll-container[_ngcontent-%COMP%]{position:relative}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-scroll-container[_ngcontent-%COMP%]   .products-scroll[_ngcontent-%COMP%]{display:flex;gap:20px;overflow-x:auto;overflow-y:hidden;padding:10px 15px 20px;scroll-behavior:smooth;scroll-snap-type:x mandatory}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-scroll-container[_ngcontent-%COMP%]   .products-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-scroll-container[_ngcontent-%COMP%]   .products-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-scroll-container[_ngcontent-%COMP%]   .products-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(90deg,#009ffd,#00d4ff);border-radius:10px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-scroll-container[_ngcontent-%COMP%]   .products-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(90deg,#0080d4,#009ffd)}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-grid-container[_ngcontent-%COMP%]{position:relative}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-grid-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:25px;padding:10px 15px 20px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]{background:#fff;padding:15px;border-radius:14px;box-shadow:0 3px 10px #00000014;transition:all .3s;position:relative;overflow:hidden;min-width:250px;max-width:250px;flex-shrink:0;scroll-snap-align:start}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 8px 20px #009ffd33}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none;color:inherit;display:block}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:contain;border-radius:12px;margin-bottom:15px;transition:.3s;background:#f8fafc;padding:10px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:17px;margin-bottom:8px;font-weight:600;color:#1e2a5a;line-height:1.3;height:44px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:13px;color:#64748b;margin-bottom:10px;line-height:1.4;height:36px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#009ffd;margin-bottom:12px;display:flex;align-items:center;gap:6px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .currency-icon[_ngcontent-%COMP%]{width:18px;height:18px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{position:absolute;bottom:15px;right:15px;width:42px;height:42px;border-radius:12px;border:none;background:linear-gradient(135deg,#009ffd,#00d4ff);color:#fff;font-size:22px;font-weight:700;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;z-index:2;box-shadow:0 4px 12px #009ffd4d}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#1e2a5a,#2a3a7a);transform:scale(1.15) rotate(90deg);box-shadow:0 6px 16px #1e2a5a66}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:active{transform:scale(.95) rotate(90deg)}.products-page[_ngcontent-%COMP%]   .no-products[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;color:#64748b}.products-page[_ngcontent-%COMP%]   .no-products[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:80px;margin-bottom:20px;opacity:.4;color:#cbd5e1}.products-page[_ngcontent-%COMP%]   .no-products[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin:0;font-weight:500}@media (max-width: 768px){.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]{padding:12px 15px;gap:10px}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .product-count[_ngcontent-%COMP%]{justify-content:center}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .sort-container[_ngcontent-%COMP%]{gap:8px}.products-page[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .sort-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{min-width:140px;font-size:12px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .subcategory-title[_ngcontent-%COMP%]{font-size:20px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-grid-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]{min-width:unset;max-width:unset}}@media (max-width: 480px){.products-page[_ngcontent-%COMP%]{padding:15px 10px}.products-page[_ngcontent-%COMP%]   .subcategory-section[_ngcontent-%COMP%]   .products-grid-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:10px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]{padding:12px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{height:140px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;height:38px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;height:32px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .product-content[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:16px}.products-page[_ngcontent-%COMP%]   .products-card[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{width:36px;height:36px;font-size:18px}}']})};export{U as Products};
